<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LargeSVM: model_to_from_txt.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="largeSVM.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">LargeSVM
   </div>
   <div id="projectbrief">Library for Large-Scale Multi-Class Problems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c1711ee76361e7ab6ea2b63d5963a3ee.html">Large-scale library</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">model_to_from_txt.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implements functions that save to and load model from .txt file.  
<a href="#details">More...</a></p>

<p><a href="model__to__from__txt_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa37353c50f098e83688cde3848523c3f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__to__from__txt_8h.html#aa37353c50f098e83688cde3848523c3f">model_to_txt</a> (const char *filename, <a class="el" href="classlargesvm_model.html">largesvmModel</a> *model, vector&lt; int &gt; *Y, <a class="el" href="structparameters.html">parameters</a> *param)</td></tr>
<tr class="memdesc:aa37353c50f098e83688cde3848523c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the trained model to .txt file.  <a href="#aa37353c50f098e83688cde3848523c3f"></a><br/></td></tr>
<tr class="separator:aa37353c50f098e83688cde3848523c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c6ca27d1790410b7d44296a84ed281"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__to__from__txt_8h.html#a11c6ca27d1790410b7d44296a84ed281">txt_to_model</a> (const char *filename, <a class="el" href="classlargesvm_model.html">largesvmModel</a> *model, vector&lt; int &gt; *Y, <a class="el" href="structparameters.html">parameters</a> *param)</td></tr>
<tr class="memdesc:a11c6ca27d1790410b7d44296a84ed281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the trained model from .txt file.  <a href="#a11c6ca27d1790410b7d44296a84ed281"></a><br/></td></tr>
<tr class="separator:a11c6ca27d1790410b7d44296a84ed281"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements functions that save to and load model from .txt file. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa37353c50f098e83688cde3848523c3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool model_to_txt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlargesvm_model.html">largesvmModel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparameters.html">parameters</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the trained model to .txt file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Filename of the .txt file where the model is saved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">model</td><td>Trained model. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Y</td><td>Vector of possible labels. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>The parameters of the algorithm. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>False if error encountered, otherwise true.</dd></dl>
<p>The text file is organized as [algorithm, dimension, num_classes, labels, num_weights, param_bias, kernel_width, model]. In order to compress memory and to use the memory efficiently, we coded the model in the following way:</p>
<p>For AMM batch, AMM online, PEGASOS: The model is stored so that each row of the text file corresponds to one weight. The first element of each weight is the class of the weight, followed by the degradation of the weight. The rest of the row corresponds to non-zero elements of the weight, given as feature_index:feature_value, in a standard LIBSVM format.</p>
<p>For BSGD: The model is stored so that each row corresponds to one support vector (or weight). The first elements of each weight correspond to alpha parameters for each class, given in order of "labels" member of the Matlab structure. However, since alpha can be equal to 0, we use LIBSVM format to store alphas, as -class_index:class-specific_alpha, where we added '-' (minus sign) in front of the class index to differentiate between class indices and feature indices that follow. After the alphas, in the same row the elements of the weights (or support vectors) for each feature are given in LIBSVM format.</p>
<p>For LLSVM: TBD. </p>

</div>
</div>
<a class="anchor" id="a11c6ca27d1790410b7d44296a84ed281"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool txt_to_model </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlargesvm_model.html">largesvmModel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparameters.html">parameters</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the trained model from .txt file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Filename of the .txt file where the model is saved. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">model</td><td>Trained model. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Y</td><td>Vector of possible labels. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">param</td><td>The parameters of the algorithm. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>False if error encountered, otherwise true.</dd></dl>
<p>The text file is organized as [algorithm, dimension, num_classes, labels, num_weights, param_bias, kernel_width, model]. In order to compress memory and to use the memory efficiently, we coded the model in the following way:</p>
<p>For AMM batch, AMM online, PEGASOS: The model is stored so that each row of the text file corresponds to one weight. The first element of each weight is the class of the weight, followed by the degradation of the weight. The rest of the row corresponds to non-zero elements of the weight, given as feature_index:feature_value, in a standard LIBSVM format.</p>
<p>For BSGD: The model is stored so that each row corresponds to one support vector (or weight). The first elements of each weight correspond to alpha parameters for each class, given in order of "labels" member of the Matlab structure. However, since alpha can be equal to 0, we use LIBSVM format to store alphas, as -class_index:class-specific_alpha, where we added '-' (minus sign) in front of the class index to differentiate between class indices and feature indices that follow. After the alphas, in the same row the elements of the weights (or support vectors) for each feature are given in LIBSVM format.</p>
<p>For LLSVM: TBD. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 3 2012 21:11:28 for LargeSVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
